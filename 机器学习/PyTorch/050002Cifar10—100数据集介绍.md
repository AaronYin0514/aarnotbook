
# Cifar10/100数据集介绍

8000万个微小图像数据集的子集，由Alex Krizhevsky，Vinod Nair，Geoffrey Hinton收集。

## 下载数据集

[官网](https://www.cs.toronto.edu/~kriz/cifar.html)

![](../assets/imgs/pytorch/cifar10.png)

**下载解压后文件列表**

- data\_batch\_\*：data_batch开头数据为训练集数据
- test\_batch：为测试集数据

## 解析数据

```python
import pickle

def unpickle(file):
  with open(file, 'rb') as fo:
    dict = pickle.load(fo, encoding="bytes")
  return dict

label_name = ["airplane",
              "automobile",
              "bird",
              "cat",
              "deer",
              "dog",
              "frog",
              "horse",
              "ship",
              "truck"]

import glob
import numpy as np
import cv2
import os

# train_list = glob.glob("CIFAR10/data_batch_*")
train_list = glob.glob("CIFAR10/test_batch*")
# print(train_list)
# save_path = "CIFAR10/TRAIN"
save_path = "CIFAR10/TEST"

for l in train_list:
  # print(l)
  l_dict = unpickle(l)
  # print(l_dict.keys())
  # print(l_dict[b'labels'])
  for im_idx, im_data in enumerate(l_dict[b'data']):
    im_label = l_dict[b'labels'][im_idx]
    im_name = l_dict[b'filenames'][im_idx]

    im_label_name = label_name[im_label]
    im_data = np.reshape(im_data, [3, 32, 32])
    im_data = np.transpose(im_data, [1, 2, 0])

    if not os.path.exists("{}/{}".format(save_path, im_label_name)):
      os.mkdir("{}/{}".format(save_path, im_label_name))
    
    cv2.imwrite("{}/{}/{}".format(save_path, im_label_name, im_name.decode('utf-8')), im_data)
             
```


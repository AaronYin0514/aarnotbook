# 基本数据类型

C语言有丰富的数据类型，因此它很适合用来编写数据库，如DB2、Oracle都是C语言写的。

C语言的数据类型大致可以分为下图中的几类：

![](https://images0.cnblogs.com/blog/497279/201309/28175824-a80762ff23c34ad9ac485bafe62f3ddb.jpg)

## 一、变量

跟其他语言一样，C语言中用变量来存储计算过程使用的值，任何变量都必须先定义类型再使用。为什么一定要先定义呢？因为变量的类型决定了变量占用的存储空间，所以定义变量类型，就是为了给该变量分配适当的存储空间，以便存放数据。比如你是char类型，我就只给你分配1个字节就够了，没必要分配2个字节、3个字节乃至更多的存储空间。

需要注意的是：

### 1.局部变量的使用跟Java稍微有点不一样

1> 在Java中，你声明了一个局部变量后，如果没有经过初始化赋值就使用该变量，编译器直接报错

![](https://images0.cnblogs.com/blog/497279/201303/14115912-99da3f5f1eb148bd8e8878af9126687c.jpg)

第9行报错了，因为变量a没有初始化

2> 在C语言中，你声明看一个局部变量后，没有经过初始化赋值是可以使用的

```c
[[include]] <stdio.h>

int main()
{
    int b;
    printf("%d", b);
    return 0;
}
```

但这是很危险的，不建议这样做。大多数人应该觉得变量b打印出来应该是0，其实不是。因为系统会随意给变量b赋值，得到的是垃圾数据。

上述代码的打印结果是：

![](https://images0.cnblogs.com/blog/497279/201303/14120334-7cfa00dff2994877bf44bdadf90db14c.png)

因此，局部变量还是必须先进行初始化赋值，然后再使用，这样才是最安全的做法。

* 如果是全局的int类型变量，系统会默认赋值为0

![](https://images0.cnblogs.com/blog/497279/201303/14120623-9f5627023ee04430affb72ffd926dea8.png)

### 2.char的取值范围是：ASCII码字符 或者 -128~127的整数

于是，使用char存储大写字母A有2种赋值方式：

```c
// 方式1
char c = 'A';

// 方式2
char c = 65;
```

### 3.char只能存储一个字符

汉字或者字符串需要用字符数组来存储，因为一个汉字占了2个字符，一个字符串是由一个或者多个字符组成的。

因此，下面的写法都是错误的：

```
char c1 = '我'; char c2 = '123'; char c3 = "123";
```

## 二、类型修饰符

我们还可以在基本数据类型的前面加一些修饰符，也有人称之为限定符，一样的意思。

有以下4种类型修饰符：

* short  短型
* long  长型
* signed  有符号型
* unsigned  无符号型

### 1. 用法演示

这些修饰符最常是用来修饰int类型\(可以省略int\)

```c
// 下面两种写法是等价的
short int s1 = 1;
short s2 = 1;

// 下面两种写法是等价的
long int l1 = 2;
long l2 = 2;

// 可以连续使用2个long
long long ll = 10;

// 下面两种写法是等价的
signed int si1 = 3;
signed si2 = 3;

// 下面两种写法是等价的
unsigned int us1 = 4;
unsigned us2 = 4;

// 也可以同时使用2种修饰符
signed short int ss = 5;
unsigned long int ul = 5;
```

### 2. short和long

**1>** short和long可以提供不同长度的整型数，也就是可以改变整型数的取值范围，比如short的取值范围是-32768\~32767，long的取值范围就是-2147483648\~2147483647

**2>** 当然，数据的存储长度也会跟着变化。比如，在64位环境下，short占2个字节(16位)，int占4个字节(32位)，long占8个字节(64位)。不同环境下，取值范围和占用的长度是不一样的，不过幸运的是，ANSI \ ISO制定了以下规则：

* short跟int至少为16位(2字节)
* long至少为32位(4字节)
* short的长度不能大于int，int的长度不能大于long
* char一定为为8位(1字节)，毕竟char是我们编程能用的最小数据类型

### 3. signed和unsigned

**1>** signed代表有符号，包括正数、负数和0；unsigned代表无符号，只包括正数和0。比如，signed的取值范围是\-32768\~32767，那么unsigned的取值范围是0\~65535，当然，不同的编译器有不同的取值范围

**2>** 其实，signed和unsigned的区别就是它们的最高位是否要当做符号位，并不会像short和long那样改变数据的长度，即所占的字节数，

### 4. signed、unsigned也可以修饰char，long还可以修饰double

```c
unsigned char c1 = 10;
signed char c2 = -10;

long double d1 = 12.0;
```

## 三、不同环境下基本数据类型的存储长度

![](https://img2020.cnblogs.com/blog/497279/202005/497279-20200512203444560-263222375.png)

Mac 64bit是LP64，Windows 64bit是LLP64
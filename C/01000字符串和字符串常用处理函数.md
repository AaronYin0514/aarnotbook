# 字符和字符串常用处理函数

## 一、字符处理函数

下面介绍的两个字符处理函数都是在stdio.h头文件中声明的。

### 1.字符输出函数putchar

```c
putchar(65); // A

putchar('A'); // A

int a = 65;
putchar(a); // A
```

上面的3种用法，输出的都是大写字母A。

* putchar一次只能输出一个字符，而printf可以同时输出多个字符

```c
printf("%c %c %c", 'A', 'B', 'a');
```

### 2.字符输入函数getchar

```c
char c;
c = getchar();
```

`getchar`会将用户输入的字符赋值给变量c。

* `getchar`函数可以读入空格、TAB，直到遇到回车为止。`scanf`则不能读入空格和TAB。
* `getchar`一次只能读入一个字符。`scanf`则可以同时接收多个字符。
* `getchar`还能读入回车换行符，这时候你要敲2次回车键。第1次敲的回车换行符被`getchar`读入，第2次敲的回车键代表输入结束。

## 二、字符串处理函数

下面介绍的字符串处理函数都是在`string.h`头文件中声明的，使用前要包含这个头文件。

### 1.strlen函数

* 这个函数可以用来测量字符串的字符个数，不包括\0

```c
int size = strlen("mj"); // 长度为2

char s1[] = "lmj";
int size1 = strlen(s1); // 长度为3

char s2[] = {'m', 'j', '\0', 'l', 'm', 'j', '\0'};
int size2 = strlen(s2); // 长度为2
```

看一下第7行，strlen函数会从s2的首地址开始计算字符个数，直到遇到空字符\0为止。因为s2的第1个\0之前只有mj这2个字符，所以长度为2。

### 2.strcpy函数

```c
char s[10]; 
strcpy(s, "lmj");
```

strcpy函数会将右边的"lmj"字符串拷贝到字符数组s中。从s的首地址开始，逐个字符拷贝，直到拷贝到\0为止。当然，在s的尾部肯定会保留一个\0。

* 假设右边的字符串中有好几个\0，strcpy函数只会拷贝第1个\0之前的内容，后面的内容不拷贝

```c
char s[10]; 
char c[] = {'m', 'j', '\0', 'l', 'm', 'j', '\0'}; 3 strcpy(s, c);
```

最后字符串s中的内容为：mj

### 3.strcat函数

```c
char s1[30] = "LOVE";
strcat(s1, "OC");
```

strcat函数会将右边的"OC"字符串拼接到s1的尾部，最后s1的内容就变成了"LOVEOC"

![](https://images0.cnblogs.com/blog/497279/201303/15181436-7fe7334f675d4fc1ba3471c67c77e1ee.png)

strcat函数会从s1的第1个\0字符开始连接字符串，s1的第1个\0字符会被右边的字符串覆盖，连接完毕后在s1的尾部保留一个\0

* 注意下面的情况

```c
char s1[30] = {'L', 'm', 'j', '\0', 'L', 'o', 'v', 'e', '\0'}; 
strcat(s1, "OC"); 
printf("%s", s1);
```

第1行初始化的s1有2个\0，经过第2行的strcat函数后，输出结果：

![](https://images0.cnblogs.com/blog/497279/201303/15182238-1d554611c06744bab854691e7bc4ae7d.png)

![](https://images0.cnblogs.com/blog/497279/201303/15182627-161aa4120d4541bbb09b105b6f115102.png)

### 4.strcmp函数

* 这个函数可以用来比较2个字符串的大小
* 调用形式为：

```
strcmp(字符串1, 字符串2)
```

* 两个字符串从左至右逐个字符比较（按照字符的ASCII码值的大小），直到字符不相同或者遇见'\0'为止。如果全部字符都相同，则返回值为0。如果不相同，则返回两个字符串中第一个不相同的字符ASCII码值的差。即字符串1大于字符串2时函数返回值为正，否则为负。

```c
char s1[] = "abc";
char s2[] = "abc";
char s3[] = "aBc";
char s4[] = "ccb";

printf("%d, %d, %d", strcmp(s1, s2), strcmp(s1, s3), strcmp(s1, s4));
```

输出结果：

![](https://images0.cnblogs.com/blog/497279/201303/15183311-902c2134a2f54cf5ac01965b270adf73.png)

* s1和s2相同，所以返回0
* s1和s3是第2个字符不相同，b的ASCII码值是98，B的ASCII码值是66，b - B = 32，所以返回32
* s1和s4是第1个字符就不相同，a的ASCII码值是97，c的ASCII码值是99，a - c = -2，所以返回-2
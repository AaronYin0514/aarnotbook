---
tags: [ruby, class]
---
# 类变量和类方法
## 类方法

方法的接收者就是类本身（类对象）的方法称为**类方法**。

在`class << 类名 ... end`中以定义实例方法的形式定义类方法。

```ruby
class Person
end

class << Person
	def hello
		puts "Hello,Ruby!"
	end
end

Person.hello
```

类中`self`引用类

```ruby
class Person
	class << self
		def hello
			puts "Hello,Ruby!"
		end
	end
end
Person.hello
```

`类名.方法名`方式定义类方法

```ruby
class Person

def Person.hello
	puts "Hello,Ruby!"
end

def self.test
	puts "test func"
end

end

Person.hello
Person.test
```


## 类变量

以 `@@` 开头的变量称为类变量。类变量不能使用`attr_accessor`存取器，需要自定义。

```ruby
class HelloCount
	@@count = 0

	def self.count
		@@count
	end 

	def hello
		puts "Hello,Ruby!"
		@@count += 1
	end
end

h1 = HelloCount.new
h1.hello
h1.hello

h2 = HelloCount.new
h2.hello

p HelloCount.count # 3
```


## 常量

在 class 上下文中可以定义常量。

```ruby
class Person
	Verson = 1.0
end

p Person::Verson # 1.0
```
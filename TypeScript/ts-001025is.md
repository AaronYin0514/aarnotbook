## is

`is` 操作符用于TS的类型谓词中，是实现TS类型保护的一种方式（[关于什么是类型保护](https://link.juejin.cn/?target=https%3A%2F%2Fwww.typescriptlang.org%2Fdocs%2Fhandbook%2Fadvanced-types.html%23typeof-type-guards "https://www.typescriptlang.org/docs/handbook/advanced-types.html#typeof-type-guards")）。

比如下面这种场景：

```typescript
function doSometing(value: string | number) {
    if (typeof value === 'string') {
        // TS 可以识别这个分支中 value 是 string 类型的参数（这就叫类型保护）
        // do something
    } else {
        // TS 可以识别这个分支中 value 是 number 类型的参数
        // do something
    }
}
```

除去上面这种方式以外，我们可以使用TS的类型谓词来实现：

```typescript
/**
 * 此函数用于判断参数 value 是不是 string 类型
 * 
 * 由于返回类型声明了类型谓词，可以帮助TS在代码分支中进行类型保护（默认返回 boolean 类型是没办法做到的）
 **/
function isString(value: any): value is string {
    return typeof value === 'string';
}

function doSometing(value: string | number) {
    if (isString(value)) {
        // TS 可以识别这个分支中 value 是 string 类型的参数（这就叫类型保护）
    } else {
        // TS 可以识别这个分支中 value 是 number 类型的参数
    }
}
```

这样做的好处是：实现了代码复用，实现了更好的语义化。

其实，TS 代码中 `Array.isArray` 便是使用了这样的声明。

```typescript
interface ArrayConstructor {
    // ...
    isArray(arg: any): arg is Array<any>;
}
```


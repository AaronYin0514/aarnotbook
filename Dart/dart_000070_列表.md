---
tags: dart array 
---

# 列表

## 创建数组

### 创建

```dart
List<int> l = [1, 2, 3];
print(l); // [1, 2, 3]
```

## 访问数组

### 访问

```dart
List<int> l = [1, 2, 3];
l[0]; // 1
l[1]; // 2
```

### `getRange(start, end)`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
print(ls.getRange(1, 3)); // (OC, Swift)
```

### 第一个/最后一个元素`first` `last`

```dart
List<int> l = [1, 2, 3];
l.first; // 1
l.last; // 3
```

## 数组长度

### 长度`length`

```dart
List<int> l = [1, 2, 3];
l.length; // 3
```

### 判断空数组`isEmpty` `isNotEmpty`

```dart
List<int> l = [];
l.isEmpty; // true
l.isNotEmpty; // false
```

## 增加元素

### 添加元素`add` `addAll`

```dart
List<String> ls = ['OC', 'Swift', 'JavaScript'];

// 添加一个元素
ls.add('Dart'); 

// 添加多个元素
ls.addAll(['Ruby', 'Java', 'Python']); 

print(ls); // [OC, Swift, JavaScript, Dart, Ruby, Java, Python]
```

### 插入元素`insert` `insertAll`

```dart
List<String> ls = ['OC', 'Swift', 'JavaScript'];

// 插入一个元素 在索引2位置
ls.insert(2, 'Dart');

// 插入多个元素，在索引0位置
ls.insertAll(0, ['Ruby', 'Java', 'Python']);

print(ls); // Ruby, Java, Python, OC, Swift, Dart, JavaScript]
```

### + 链接

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls += ['Ruby', 'Python'];
print(ls); // [Dart, OC, Swift, JavaScript, Ruby, Python]
```

## 删除元素

### 删除某元素`remove`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls.remove('OC');
print(ls); // [Dart, Swift, JavaScript]
```

### 删除某位置的元素`removeAt`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls.removeAt(1);
print(ls); // [Dart, Swift, JavaScript]
```

### 移除最后一个元素`removeLast`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls.removeLast();
print(ls); // [Dart, OC, Swift]
```

### 移除Range范围内元素`removeRange(start, end)`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls.removeRange(1, 3);
print(ls); // [Dart, JavaScript]
```

* 0 ≤ `start` ≤ `end` ≤ length
* 元素不包含`end`位置元素

### 清空数组`clear`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls.clear();
print(ls); // []
```

## 修改元素

### 修改

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls[1] = 'Objective-C';
print(ls); // [Dart, Objective-C, Swift, JavaScript]
```

### 填充`fillRange(start, end, [value])`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls.fillRange(1, 3, 'Test');
print(ls); // [Dart, Test, Test, JavaScript]
```

* 0 ≤ `start` ≤ `end` ≤ length
* 元素不包含`end`位置元素

## 遍历数组

### `forEach`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
ls.forEach((element) {
	print(element);
});
print(ls);
```

### `map`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
List<String> a = ls.map((e) => e.toUpperCase()).toList();
print(a); // [DART, OC, SWIFT, JAVASCRIPT]
```

### `reduce`

`reduce`需要至少包含一个元素，如果只有一个元素

```dart
final numbers = <double>[10, 2, 5, 0.5];
final result = numbers.reduce((value, element) {
	print([value, element]);
	return value + element;
});
print(result); // 17.5
```

打印结果：

```
[10.0, 2.0]
[12.0, 5.0]
[17.0, 0.5]
17.5
```

### `fold`

`fold`传入一个初始值。

```dart
final numbers = <double>[10, 2, 5, 0.5];
const initialValue = 100.0;
final result = numbers.fold<double>(initialValue, (previousValue, element) => previousValue + element);
print(result); // 117.5
```


## 查找

### 判断是否包含某元素`contains`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
print(ls.contains('OC')); // true
```

### 查找某元素`indexOf`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
print(ls.indexOf('OC')); // 1
print(ls.indexOf('Ruby')); // -1 没找到返回-1
```

### 按条件查找`indexWhere`

返回第一个匹配到的元素

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
print(ls.indexWhere((element) => element.contains('S'))); // 2
```

## 数组排序

### 排序

```dart
List<DateTime> dtList = [];

dtList.addAll([
	DateTime.now(),
	DateTime.now().add(new Duration(days: -12)),
	DateTime.now().add(new Duration(days: -2))
]);

print(dtList); // [2022-06-25 17:01:53.293516, 2022-06-13 17:01:53.293517, 2022-06-23 17:01:53.293817]

dtList.sort((a, b) => a.compareTo(b));
print(dtList); // [2022-06-13 17:01:53.293517, 2022-06-23 17:01:53.293817, 2022-06-25 17:01:53.293516]
```

### 反转数组`reversed`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
print(ls.reversed); // (JavaScript, Swift, OC, Dart)
```

### 洗牌`shuffle`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
print(ls); // [Dart, OC, Swift, JavaScript]
ls.shuffle();
print(ls); // [Dart, OC, JavaScript, Swift]
```

## 创建子列表

### 子列表`sublist(start, [end])`

```dart
List<String> ls = ['Dart', 'OC', 'Swift', 'JavaScript'];
List<String> ls2 = ls.sublist(1, 3);
print(ls2); // [OC, Swift]
```

* 0 ≤ `start` ≤ `end` ≤ length
* 元素不包含`end`位置元素






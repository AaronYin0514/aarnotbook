---
tags: dart const
---

# 常量

## 创建常量`const` `final`

```dart
// final 创建常量
final String a = 'hello world';
final b = 'hello world'; // 声明类型可省略
print([a, b]);

// const 创建常量
const c = 'hello world';
print(c);
```

## const与final的区别

1. const创建需要确定的值

```dart
final dt1 = DateTime.now(); // ✅ 正确

const dt2 = DateTime.now(); // ❌ 编译报错
```

2. const不可不性可以传递

```dart
final List ls1 = [1, 2, 3];
ls1[1] = 22; // ✅ 正确

const List ls2 = [1, 2, 3];
ls2[1] = 22; ❌ 运行时报错
```

3. final在内存中重复创建

```dart
final ls1 = [1, 2, 3];
final ls2 = [1, 2, 3];
print(identical(ls1, ls2)); // false ls1与ls2是**不同**对象

const ls3 = [1, 2, 3];
const ls4 = [1, 2, 3];
print(identical(ls3, ls4)); // true ls3与ls4是**相同**对象
```

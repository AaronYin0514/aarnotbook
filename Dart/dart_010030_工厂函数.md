---
tags: dart factory
---

# 工厂函数

## 工厂函数

```dart
class Phone {
	void startup() {
		print("开机");
	}
}

class AndroidPhone implements Phone {
	void startup() {
		print("AndroidPhone开机");
	}
}

class IPhone implements Phone {
	void startup() {
		print("IPhone开机");
	}
}

Phone phoneFactory(String name) {
	switch (name) {
		case 'android':
			return AndroidPhone();
		default:
			return IPhone();
	}
}

var ip = phoneFactory('android');
ip.startup(); // AndroidPhone开机

var ap = phoneFactory('ios');
ap.startup(); // IPhone开机
```

## 工厂构造函数

```dart
abstract class Phone {
	factory Phone(String name) {
		switch (name) {
			case 'android':
				return AndroidPhone();
			default:
				return IPhone();
		}
	}
	void startup();
}

class AndroidPhone implements Phone {
	void startup() {
		print("AndroidPhone开机");
	}
}

class IPhone implements Phone {
	void startup() {
		print("IPhone开机");
	}
}

Phone phoneFactory(String name) {
	switch (name) {
		case 'android':
			return AndroidPhone();
		default:
			return IPhone();
	}
}

var ip = Phone('android');
ip.startup(); // AndroidPhone开机

var ap = Phone('ios');
ap.startup(); // IPhone开机
```


---
tags: react
---

# 环境变量

## NODE_ENV

`NODE_ENV`是React脚手架创建的虚拟变量，实际在系统中设置该环境变量也不起作用。它的值包括：`production`、`development`、`test`

访问环境变量：

```javascript
if (process.env.NODE_ENV === 'development') {

}
```

## 自定义环境变量

在项目**根目录**下创建`.env`文件

```
REACT_APP_NAME = 'name'
```

js访问自定义环境变量

```javascript
process.env.REACT_APP_NAME
```

html访问自定义环境变量

```html
<h1>%REACT_APP_NAME%</h1>
```

**多环境**处理，可创建`.env.production`、`.env.development`、`.env.test`文件来区分不同环境

## [cross-env](https://www.npmjs.com/package/cross-env)

我们通过cross-env设置环境变量，可以很好的是适配多个平台，无语根据平台来设置相对应的变量

安装：

```shell
npm install --save-dev cross-env
```

基本使用：

```json
{
  "scripts": {
    "build": "cross-env NODE_ENV=production webpack --config build/webpack.config.js"
  }
}
```

```json
{
  "scripts": {
    "build": "cross-env FIRST_ENV=one SECOND_ENV=two node ./my-program"
  }
}
```